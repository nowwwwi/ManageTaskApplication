<!DOCTYPE html>
{% extends 'houseworks/base.html' %}
{% load bootstrap_icons %}
{% block content %}
<h1 class="m-0">{{ object.name }}</h1>

<a href="{% url 'houseworks:history_create'%}?user={{ request.user.id }}&work={{ object.id }}" class="btn btn-success">{% bs_icon 'play-circle' %}タスク"{{ work.name }}"を実行する</a>

<li>"{{ work.name }}"の詳細情報を表示します</li>

<a href="{% url 'houseworks:work_update' object.id %}" class="btn btn-secondary">{% bs_icon 'pencil' %}タスク"{{ work.name}}"を編集する</a>
<a href="{% url 'houseworks:work_delete' object.id %}" class="btn btn-danger">{% bs_icon 'trash3' %}タスク"{{ work.name }}"を消去する</a>

<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">属性</th>
            <th scope="col">値</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>ID</td>
            <td>{{ object.id }}</td>
        </tr>
        <tr>
            <td>Name</td>
            <td>{{ object.name }}</td>
        </tr>
        <tr>
            <td>Description</td>
            <td>{{ object.description }}</td>
        </tr>
        <tr>
            <td>Default Executor</td>
            <td>{{ object.default_executor }}</td>
        </tr>
        <tr>
            <td>Published</td>
            <td>{{ object.pub_date }}</td>
        </tr>
        <tr>
            <td>Updated</td>
            <td>{{ object.update_date }}</td>
        </tr>
    </tbody>
</table>

<li>"{{ work.name }}"のプロセスを表示します</li>

<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">プロセス番号</th>
            <th scope="col">作業内容</th>
            <th scope="col">作業詳細</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        {% for process in work_processes %}
        <tr>
            <td>{{ process.id }}</td>
            <td>{{ process.procedure_number }}</td>
            <td>{{ process.name }}</td>
            <td>{{ process.description }}</td>
            <td>編集 | 削除</td>
        </tr>
        {% empty %}
        <td>No processes.</td>
        <td></td>
        <td></td>
        <td></td>
        <td>プロセスを追加する</td>
        {% endfor %}
    </tbody>
</table>

<li>"{{ work.name }}"のスケジュール一覧</li>

<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">スケジュールされたステータス</th>
            <th scope="col">作成日</th>
            <th scope="col">更新日</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        {% for item in work_schedules %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.schedule }}</td>
            <td>{{ item.pub_date }}</td>
            <td>{{ item.update_date }}</td>
            <td>編集 | 削除</td>
        </tr>
        {% empty %}
        <td>No schedules.</td>
        <td></td>
        <td></td>
        <td></td>
        <td>スケジュールを追加する</td>
        {% endfor %}
    </tbody>
</table>

<li>"{{ work.name }}"の実行履歴</li>

<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">実行者</th>
            <th scope="col">実行日</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        {% for item in histories %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.user }}</td>
            <td>{{ item.pub_date }}</td>
            <td>編集 | 削除</td>
        </tr>
        {% empty %}
        <td>No histories.</td>
        <td></td>
        <td></td>
        <td></td>
        <td>履歴を追加する</td>
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'houseworks:work_list' %}">{% bs_icon 'box-arrow-left' %}タスク一覧へ戻る</a>

{% endblock content %}